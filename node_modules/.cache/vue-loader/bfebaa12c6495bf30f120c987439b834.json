{"remainingRequest":"/home/dxt/code/to-do-list/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/to-do-list/src/components/ToDoList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/to-do-list/src/components/ToDoList.vue","mtime":1629641272974},{"path":"/home/dxt/code/to-do-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/to-do-list/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/to-do-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/to-do-list/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJdGVtIGZyb20gIi4vSXRlbS52dWUiOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIi4vZXZlbnQtYnVzLmpzIjsKaW1wb3J0IFNlYXJjaEF1dG9jb21wbGV0ZSBmcm9tICIuL1NlYXJjaEF1dG9jb21wbGV0ZS52dWUiOwpjb25zdCBMT0NBTF9TVE9SQUdFX0tFWSA9ICJ0by1kby1saXN0IjsKZXhwb3J0IGRlZmF1bHQgewoJbmFtZTogIlRvRG9MaXN0IiwKCWNvbXBvbmVudHM6IHsKCQlJdGVtLAoJCVNlYXJjaEF1dG9jb21wbGV0ZSwKCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCWl0ZW1zOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZKSkgfHwgW10sCgkJCWlzU2hvd0J1bGtCb3g6IGZhbHNlLAogICAgICAgICAgICByZW5kZXJMaXN0OiBbXQoJCX07Cgl9LAoJY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnJlbmRlckxpc3QgPSB0aGlzLml0ZW1zCgkJdGhpcy5pc1Nob3dCdWxrQm94ID0gdGhpcy5pdGVtcy5zb21lKChpdGVtKSA9PiB7CgkJCXJldHVybiBpdGVtLmlzRG9uZTsKCQl9KTsKCX0sCgltZXRob2RzOiB7CgkJaGFuZGxlVXBkYXRlKGRhdGEpIHsKCQkJLy8gY29uc3QgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7CgkJCS8vIGNvbnNvbGUubG9nKCJmZWF0Y2ggZGF0YSIsIGluZGV4KTsKCQkJLy8gRXZlbnRCdXMuJG9uKCJ1cGRhdGUtZGF0YSIsIChkYXRhKSA9PiB7CgkJCS8vIAljb25zb2xlLmxvZygiZHUgbGlldSBuaGFuIGRjIiwgZGF0YSk7CgkJCS8vIAl0aGlzLml0ZW1zW2luZGV4XS5uYW1lID0gZGF0YS5uZXdOYW1lOwoJCQkvLyAJdGhpcy5pdGVtc1tpbmRleF0uZGlzY3JpcHRpb24gPSBkYXRhLm5ld0Rpc2NyaXB0aW9uOwoJCQkvLyAJdGhpcy5pdGVtc1tpbmRleF0uZHVlRGF0ZSA9IGRhdGEubmV3RHVlRGF0ZTsKCQkJLy8gCXRoaXMuaXRlbXNbaW5kZXhdLnBpb3JpdHkgPSBkYXRhLm5ld1Bpb3JpdHk7CgkJCS8vIAljb25zb2xlLmxvZygiYXJheSBzYXUga2hpIHRoYXkgxJHhu5VpIiwgdGhpcy5pdGVtcyk7CgkJCS8vIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmlkKTsKICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoCiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLmZpbmQoaXRlbSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IGRhdGEuaWQKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLm5hbWUgPSBkYXRhLm5ld05hbWU7CiAgICAgICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLmRpc2NyaXB0aW9uID0gZGF0YS5uZXdEaXNjcmlwdGlvbjsKICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uZHVlRGF0ZSA9IGRhdGEubmV3RHVlRGF0ZTsKICAgICAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0ucGlvcml0eSA9IGRhdGEubmV3UGlvcml0eTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5pdGVtcykKCQl9LAoJCWhhbmRsZURlbGV0ZUl0ZW0oaXRlbSkgewoJCQljb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTsKCQkJdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgICAgICB0aGlzLnJlbmRlckxpc3QgPSB0aGlzLml0ZW1zCgkJCWlmICgKCQkJCXRoaXMuaXRlbXMubGVuZ3RoID09PSAwIHx8CgkJCQkhdGhpcy5pdGVtcy5zb21lKChpdGVtKSA9PiB7CgkJCQkJcmV0dXJuIGl0ZW0uaXNEb25lOwoJCQkJfSkKCQkJKQoJCQkJdGhpcy5pc1Nob3dCdWxrQm94ID0gZmFsc2U7CgkJfSwKCQloYW5kbGVJc0RvbmUoaXRlbSkgewoJCQljb25zdCBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTsKCQkJdGhpcy5pdGVtc1tpbmRleF0uaXNEb25lID0gIXRoaXMuaXRlbXNbaW5kZXhdLmlzRG9uZTsKCQkJdGhpcy5pc1Nob3dCdWxrQm94ID0gdGhpcy5pdGVtcy5zb21lKAoJCQkJKGl0ZW0pID0+IGl0ZW0uaXNEb25lID09PSB0cnVlCgkJCSk7CgkJfSwKCQloYW5kbGVSZW1vdmVXaXRoQnVsaygpIHsKCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7CgkJCQlpZiAodGhpcy5pdGVtc1tpXS5pc0RvbmUpIHsKCQkJCQl0aGlzLmhhbmRsZURlbGV0ZUl0ZW0odGhpcy5pdGVtc1tpXSk7CgkJCQkJaS0tOwoJCQkJCWNvbnNvbGUubG9nKHRoaXMuaXRlbXMubGVuZ3RoKTsKCQkJCX0KCQkJfQoJCQl0aGlzLmlzU2hvd0J1bGtCb3ggPSBmYWxzZTsKCQl9LAogICAgICAgIGhhbmRsZVJlbmRlckxpc3QocmVzdWx0cyl7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjb21lJyxyZXN1bHRzKQogICAgICAgICAgICB0aGlzLnJlbmRlckxpc3QgPSByZXN1bHRzCiAgICAgICAgfQoJfSwKCWNvbXB1dGVkOiB7fSwKCXdhdGNoOiB7CgkJaXRlbXM6IHsKCQkJZGVlcDogdHJ1ZSwKCQkJaGFuZGxlcihuZXdWYWx1ZSkgewoJCQkJbG9jYWxTdG9yYWdlLnNldEl0ZW0oCgkJCQkJTE9DQUxfU1RPUkFHRV9LRVksCgkJCQkJSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpCgkJCQkpOwoJCQl9LAoJCX0sCgl9LAoJbW91bnRlZCgpIHsKCQlFdmVudEJ1cy4kb24oIm5ldy1pdGVtLWRhdGEiLCAoaXRlbURhdGEpID0+IHsKCQkJdGhpcy5pdGVtcy5wdXNoKGl0ZW1EYXRhKTsKCQkJdGhpcy5pdGVtcy5zb3J0KChhLCBiKSA9PiB7CgkJCQlyZXR1cm4gKAoJCQkJCU51bWJlcihhLmR1ZURhdGUuc3BsaXQoIi0iKS5qb2luKCIiKSkgLQoJCQkJCU51bWJlcihiLmR1ZURhdGUuc3BsaXQoIi0iKS5qb2luKCIiKSkKCQkJCSk7CgkJCX0pOwoJCX0pOwoJfSwKfTsK"},{"version":3,"sources":["ToDoList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ToDoList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"to-do-list\">\n\t\t<h5>To Do List</h5>\n\t\t<SearchAutocomplete :items=\"items\" @change-render-list=\"handleRenderList\"></SearchAutocomplete>\n\t\t<ul>\n\t\t\t<Item\n\t\t\t\tv-for=\"render in renderList\"\n\t\t\t\tv-bind:key=\"render.id\"\n                :itemId=\"render.id\"\n\t\t\t\t:isDone=\"render.isDone\"\n\t\t\t\t:name=\"render.name\"\n\t\t\t\t:discription=\"render.discription\"\n\t\t\t\t:dueDate=\"render.dueDate\"\n\t\t\t\t:piority=\"render.piority\"\n\t\t\t\t@update-data=\"handleUpdate\"\n\t\t\t\t@delete-item=\"handleDeleteItem(render)\"\n\t\t\t\t@is-done-changed=\"handleIsDone(render)\"\n\t\t\t></Item>\n\t\t</ul>\n\t\t<div class=\"bulk-box\" v-if=\"isShowBulkBox\">\n\t\t\t<label>\n\t\t\t\tBulk Action:\n\t\t\t</label>\n\t\t\t<button id=\"done-btn\">Done</button>\n\t\t\t<button id=\"remove-btn\" @click=\"handleRemoveWithBulk\">\n\t\t\t\tRemove\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Item from \"./Item.vue\";\nimport { EventBus } from \"./event-bus.js\";\nimport SearchAutocomplete from \"./SearchAutocomplete.vue\";\nconst LOCAL_STORAGE_KEY = \"to-do-list\";\nexport default {\n\tname: \"ToDoList\",\n\tcomponents: {\n\t\tItem,\n\t\tSearchAutocomplete,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\titems: JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || [],\n\t\t\tisShowBulkBox: false,\n            renderList: []\n\t\t};\n\t},\n\tcreated() {\n        this.renderList = this.items\n\t\tthis.isShowBulkBox = this.items.some((item) => {\n\t\t\treturn item.isDone;\n\t\t});\n\t},\n\tmethods: {\n\t\thandleUpdate(data) {\n\t\t\t// const index = this.items.indexOf(item);\n\t\t\t// console.log(\"featch data\", index);\n\t\t\t// EventBus.$on(\"update-data\", (data) => {\n\t\t\t// \tconsole.log(\"du lieu nhan dc\", data);\n\t\t\t// \tthis.items[index].name = data.newName;\n\t\t\t// \tthis.items[index].discription = data.newDiscription;\n\t\t\t// \tthis.items[index].dueDate = data.newDueDate;\n\t\t\t// \tthis.items[index].piority = data.newPiority;\n\t\t\t// \tconsole.log(\"aray sau khi thay đổi\", this.items);\n\t\t\t// });\n            console.log(data.id);\n            const index = this.items.indexOf(\n                this.items.find(item => {\n                    return item.id === data.id\n                })\n            );\n            this.items[index].name = data.newName;\n            this.items[index].discription = data.newDiscription;\n            this.items[index].dueDate = data.newDueDate;\n            this.items[index].piority = data.newPiority;\n            console.log(this.items)\n\t\t},\n\t\thandleDeleteItem(item) {\n\t\t\tconst index = this.items.indexOf(item);\n\t\t\tthis.items.splice(index, 1);\n            this.renderList = this.items\n\t\t\tif (\n\t\t\t\tthis.items.length === 0 ||\n\t\t\t\t!this.items.some((item) => {\n\t\t\t\t\treturn item.isDone;\n\t\t\t\t})\n\t\t\t)\n\t\t\t\tthis.isShowBulkBox = false;\n\t\t},\n\t\thandleIsDone(item) {\n\t\t\tconst index = this.items.indexOf(item);\n\t\t\tthis.items[index].isDone = !this.items[index].isDone;\n\t\t\tthis.isShowBulkBox = this.items.some(\n\t\t\t\t(item) => item.isDone === true\n\t\t\t);\n\t\t},\n\t\thandleRemoveWithBulk() {\n\t\t\tfor (let i = 0; i < this.items.length; i++) {\n\t\t\t\tif (this.items[i].isDone) {\n\t\t\t\t\tthis.handleDeleteItem(this.items[i]);\n\t\t\t\t\ti--;\n\t\t\t\t\tconsole.log(this.items.length);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.isShowBulkBox = false;\n\t\t},\n        handleRenderList(results){\n            console.log('come',results)\n            this.renderList = results\n        }\n\t},\n\tcomputed: {},\n\twatch: {\n\t\titems: {\n\t\t\tdeep: true,\n\t\t\thandler(newValue) {\n\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\tLOCAL_STORAGE_KEY,\n\t\t\t\t\tJSON.stringify(newValue)\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t},\n\tmounted() {\n\t\tEventBus.$on(\"new-item-data\", (itemData) => {\n\t\t\tthis.items.push(itemData);\n\t\t\tthis.items.sort((a, b) => {\n\t\t\t\treturn (\n\t\t\t\t\tNumber(a.dueDate.split(\"-\").join(\"\")) -\n\t\t\t\t\tNumber(b.dueDate.split(\"-\").join(\"\"))\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t},\n};\n</script>\n\n<style scoped>\nh5 {\n\tposition: relative;\n\tdisplay: block;\n\tmargin-top: 20px !important;\n\tmargin-bottom: 20px !important;\n}\n.to-do-list {\n\tposition: relative;\n\tdisplay: block;\n\tborder: 1px solid black;\n}\n.to-do-list * {\n\tmargin-top: 10px;\n\tmargin-bottom: 10px;\n}\n.search-box {\n\tposition: relative;\n\theight: 30px;\n\twidth: 80%;\n\tmargin-left: 10%;\n\tmargin-top: 0px !important;\n}\nul {\n\twidth: 80%;\n\tpadding-left: 0%;\n\tmargin: auto;\n\tmargin-bottom: 50px;\n}\nli {\n\tlist-style-type: none;\n\tborder: 1px solid black;\n\twidth: 100%;\n\theight: 50px;\n\tmargin: auto;\n\tvertical-align: middle;\n}\nbutton {\n\tborder: none;\n\tcolor: white;\n\twidth: 100px;\n\theight: 30px;\n\tborder-radius: 5px;\n\tmargin: auto;\n\tcursor: pointer;\n}\n#done-btn {\n\tbackground-color: #04bcd4;\n}\n#remove-btn {\n\tbackground-color: #d9534f;\n}\n.bulk-box {\n\tdisplay: grid;\n\tposition: absolute;\n\tgrid-template-columns: 6fr 2fr 2fr;\n\twidth: 100%;\n\theight: 50px;\n\tborder: 1px solid black;\n\tbackground-color: #e0e0e0;\n\tvertical-align: middle;\n\tbottom: 0px;\n\tmargin-bottom: 0px !important;\n\tvertical-align: middle;\n}\n.bulk-box label {\n\tmargin-left: 10%;\n\tline-height: 30px;\n}\n</style>\n"]}]}