{"remainingRequest":"/home/dxt/code/to-do-list/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dxt/code/to-do-list/src/components/SearchAutocomplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dxt/code/to-do-list/src/components/SearchAutocomplete.vue","mtime":1629639501627},{"path":"/home/dxt/code/to-do-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/to-do-list/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/dxt/code/to-do-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dxt/code/to-do-list/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJTZWFyY2hBdXRvY29tcGxldGUiLAoJcHJvcHM6IHsKCQlpdGVtczogewoJCQl0eXBlOiBBcnJheSwKCQkJcmVxdWlyZWQ6IGZhbHNlLAoJCQlkZWZhdWx0OiAoKSA9PiBbXSwKCQl9LAoJCWlzQXN5bmM6IHsKCQkJdHlwZTogQm9vbGVhbiwKCQkJcmVxdWlyZWQ6IGZhbHNlLAoJCQlkZWZhdWx0OiBmYWxzZSwKCQl9LAoJfSwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJaXNPcGVuOiBmYWxzZSwKCQkJcmVzdWx0czogW10sCgkJCXNlYXJjaDogIiIsCgkJCWlzTG9hZGluZzogZmFsc2UsCgkJCWFycm93Q291bnRlcjogLTEsCgkJfTsKCX0sCgl3YXRjaDogewoJCWl0ZW1zOiBmdW5jdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHsKCQkJaWYgKHZhbHVlLmxlbmd0aCAhPT0gb2xkVmFsdWUubGVuZ3RoKSB7CgkJCQl0aGlzLnJlc3VsdHMgPSB2YWx1ZTsKCQkJCXRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgkJCX0KCQl9LAoJfSwKCW1vdW50ZWQoKSB7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7Cgl9LAoJZGVzdHJveWVkKCkgewoJCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpOwoJfSwKCW1ldGhvZHM6IHsKCQlzZXRSZXN1bHQocmVzdWx0KSB7CgkJCXRoaXMuc2VhcmNoID0gcmVzdWx0OwoJCQl0aGlzLmlzT3BlbiA9IGZhbHNlOwoJCX0sCgkJZmlsdGVyUmVzdWx0cygpIHsKCQkJdGhpcy5yZXN1bHRzID0gdGhpcy5pdGVtcy5maWx0ZXIoKGl0ZW0pID0+IHsKCQkJCXJldHVybiAoCgkJCQkJaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSA+CgkJCQkJLTEKCQkJCSk7CgkJCX0pOwogICAgICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UtcmVuZGVyLWxpc3QnLHRoaXMucmVzdWx0cykKCQl9LAoJCW9uQ2hhbmdlKCkgewoJCQl0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuc2VhcmNoKTsKCgkJCWlmICh0aGlzLmlzQXN5bmMpIHsKCQkJCXRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuZmlsdGVyUmVzdWx0cygpOwoJCQkJdGhpcy5pc09wZW4gPSB0cnVlOwoJCQl9CgkJfSwKCQloYW5kbGVDbGlja091dHNpZGUoZXZlbnQpIHsKCQkJaWYgKCF0aGlzLiRlbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CgkJCQl0aGlzLmlzT3BlbiA9IGZhbHNlOwoJCQkJdGhpcy5hcnJvd0NvdW50ZXIgPSAtMTsKCQkJfQoJCX0sCgkJb25BcnJvd0Rvd24oKSB7CgkJCWlmICh0aGlzLmFycm93Q291bnRlciA8IHRoaXMucmVzdWx0cy5sZW5ndGgpIHsKCQkJCXRoaXMuYXJyb3dDb3VudGVyID0gdGhpcy5hcnJvd0NvdW50ZXIgKyAxOwoJCQl9CgkJfSwKCQlvbkFycm93VXAoKSB7CgkJCWlmICh0aGlzLmFycm93Q291bnRlciA+IDApIHsKCQkJCXRoaXMuYXJyb3dDb3VudGVyID0gdGhpcy5hcnJvd0NvdW50ZXIgLSAxOwoJCQl9CgkJfSwKCQlvbkVudGVyKCkgewoJCQl0aGlzLnNlYXJjaCA9IHRoaXMucmVzdWx0c1t0aGlzLmFycm93Q291bnRlcl07CgkJCXRoaXMuaXNPcGVuID0gZmFsc2U7CgkJCXRoaXMuYXJyb3dDb3VudGVyID0gLTE7CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["SearchAutocomplete.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchAutocomplete.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\t<div class=\"autocomplete\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\t@input=\"onChange\"\n\t\t\tv-model=\"search\"\n\t\t\t@keydown.down=\"onArrowDown\"\n\t\t\t@keydown.up=\"onArrowUp\"\n\t\t\t@keydown.enter=\"onEnter\"\n\t\t/>\n\t\t<!-- <ul\n\t\t\tid=\"autocomplete-results\"\n\t\t\tv-show=\"isOpen\"\n\t\t\tclass=\"autocomplete-results\"\n\t\t>\n\t\t\t<li class=\"loading\" v-if=\"isLoading\">\n\t\t\t\tLoading results...\n\t\t\t</li>\n\t\t\t<li\n\t\t\t\tv-else\n\t\t\t\tv-for=\"(result, i) in results\"\n\t\t\t\t:key=\"i\"\n\t\t\t\t@click=\"setResult(result)\"\n\t\t\t\tclass=\"autocomplete-result\"\n\t\t\t\t:class=\"{ 'is-active': i === arrowCounter }\"\n\t\t\t>\n\t\t\t\t{{ result.name }}\n\t\t\t</li>\n\t\t</ul> -->\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"SearchAutocomplete\",\n\tprops: {\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: false,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tisAsync: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tisOpen: false,\n\t\t\tresults: [],\n\t\t\tsearch: \"\",\n\t\t\tisLoading: false,\n\t\t\tarrowCounter: -1,\n\t\t};\n\t},\n\twatch: {\n\t\titems: function(value, oldValue) {\n\t\t\tif (value.length !== oldValue.length) {\n\t\t\t\tthis.results = value;\n\t\t\t\tthis.isLoading = false;\n\t\t\t}\n\t\t},\n\t},\n\tmounted() {\n\t\tdocument.addEventListener(\"click\", this.handleClickOutside);\n\t},\n\tdestroyed() {\n\t\tdocument.removeEventListener(\"click\", this.handleClickOutside);\n\t},\n\tmethods: {\n\t\tsetResult(result) {\n\t\t\tthis.search = result;\n\t\t\tthis.isOpen = false;\n\t\t},\n\t\tfilterResults() {\n\t\t\tthis.results = this.items.filter((item) => {\n\t\t\t\treturn (\n\t\t\t\t\titem.name.toLowerCase().indexOf(this.search.toLowerCase()) >\n\t\t\t\t\t-1\n\t\t\t\t);\n\t\t\t});\n            this.$emit('change-render-list',this.results)\n\t\t},\n\t\tonChange() {\n\t\t\tthis.$emit(\"input\", this.search);\n\n\t\t\tif (this.isAsync) {\n\t\t\t\tthis.isLoading = true;\n\t\t\t} else {\n\t\t\t\tthis.filterResults();\n\t\t\t\tthis.isOpen = true;\n\t\t\t}\n\t\t},\n\t\thandleClickOutside(event) {\n\t\t\tif (!this.$el.contains(event.target)) {\n\t\t\t\tthis.isOpen = false;\n\t\t\t\tthis.arrowCounter = -1;\n\t\t\t}\n\t\t},\n\t\tonArrowDown() {\n\t\t\tif (this.arrowCounter < this.results.length) {\n\t\t\t\tthis.arrowCounter = this.arrowCounter + 1;\n\t\t\t}\n\t\t},\n\t\tonArrowUp() {\n\t\t\tif (this.arrowCounter > 0) {\n\t\t\t\tthis.arrowCounter = this.arrowCounter - 1;\n\t\t\t}\n\t\t},\n\t\tonEnter() {\n\t\t\tthis.search = this.results[this.arrowCounter];\n\t\t\tthis.isOpen = false;\n\t\t\tthis.arrowCounter = -1;\n\t\t},\n\t},\n};\n</script>\n\n<style>\n.autocomplete {\n\tposition: relative;\n\theight: 30px;\n\twidth: 80%;\n\tmargin-left: 10%;\n\tmargin-top: 0px !important;\n\tmargin-bottom: 10px;\n}\n.autocomplete input[type=\"text\"] {\n\twidth: 100%;\n\theight: 100%;\n}\n.autocomplete-results {\n    position: relative;\n    background-color: #eeeeee;\n    z-index: 1;\n\tpadding: 0;\n\tmargin: 0;\n\tborder: 1px solid #eeeeee;\n\theight: fit-content;\n\toverflow: auto;\n}\n\n.autocomplete-result {\n\tlist-style: none;\n\ttext-align: left;\n\tpadding: 4px 2px;\n\tcursor: pointer;\n}\n\n.autocomplete-result.is-active,\n.autocomplete-result:hover {\n\tbackground-color: #4aae9b;\n\tcolor: white;\n}\n</style>\n"]}]}